/* =========================
   Fonts
========================= */
@font-face {
  font-family: "mfek";
  src: url("/fonts/mfek_sans/MFEK-Sans.ttf") format("truetype-variations");
  font-style: normal;
}
@font-face {
  font-family: "inter";
  src: url("/fonts/inter/Inter-VariableFont_opsz,wght.ttf") format("truetype-variations");
  font-style: normal;
}

/* =========================
   Root Variables
========================= */

:root {
  --side-margin: 10vw;
  --side-margin2: clamp(300px, 20vw, 600px);

  --title-weight: 1000;
  --title-width: 93;
  --title-trma: 0;

  --title-weight2: 100;
  --title-width2: 100;
  --title-trma2: 0;

  --title-weight3: 300;
  --title-width3: 100;
  --title-trma2: 800;
  

  --second-section-start: 90vh;

  --title-size: clamp(2.5rem, 21.3vw, 90rem);
  --title-size-nav: clamp(2.5rem, 25vw, 10rem);
  --subtitle-size: clamp(.1rem, 3vw, 10rem);
  --button-font-size: clamp(.8rem, .8vw, 8rem);
  --button-font-size2: clamp(2.3328rem, 2.0387rem + 1.3072vw, 2.8rem);
  --label-size: clamp(.2rem, .8vw, .8rem);

  --color-detail1: #e84979;
  --color-detail2: #e72b65;
  --color-detail3: #c63761;
  --color-detail-main: #dd104d;
  --color-detail-main-opacity: rgba(221, 16, 77, 0.5);
  --color-detail5: #b11f4b;
  --color-detail6: #a03253;
  --color-detail7: #a70b39;
  --color-detail8: #892543;
  --color-detail9: #841738;
  --color-detail10: #77092b;
  --color-gray: #828A82;
  --color-black: #120006;
  --color-black-opacity-0: #12000600;
  --color-white: #f4e9e9;

  --fast: .2s ease-out;
  --medium: .3s ease-in-out;

  @supports (color: oklch(1 1 1)) {
    --color-detail1: oklch(73.5% 0.21 356.6);
    --color-detail2: oklch(67.5% 0.22 353.6);
    --color-detail3: oklch(60.5% 0.18 353.6);
    --color-detail-main: oklch(54.582% 0.21947 4.604);
        /* --color-detail-main: rgb(22, 217, 217); */
    --color-detail-main-opacity: oklch(54.582% 0.21947 4.604 / 0.4);
    --color-detail5: oklch(46.5% 0.17 353.6);
    --color-detail6: oklch(41.5% 0.15 353.6);
    --color-detail7: oklch(39.5% 0.19 353.6);
    --color-detail8: oklch(33.5% 0.13 353.6);
    --color-detail9: oklch(31.5% 0.14 353.6);
    --color-detail10: oklch(27.5% 0.13 353.6);
    --color-gray: oklch(66.5% 0.01 142.6);
    --color-black: oklch(10.835% 0.04356 4.694);
    --color-black-opacity-0: oklch(10.835% 0.04356 4.694 / 0);
    --color-white: oklch(97.5% 0.01 24.6);
  }
}

/* =========================
   Base + Typography
========================= */
* {
  padding: 0;
  margin: 0;
  font-family: "mfek", sans-serif;
  color: var(--color-white);
  scroll-behavior: smooth;
}
p, a, button, label { font-family: "inter", sans-serif; }
ul { list-style: none; padding: 0; margin: 0; }
html, body { cursor: none; }

/* Snellere hover/transities (voorkom reflow) */
a, button, img, .parallaxCard {
  transition: transform var(--medium), opacity var(--medium), color var(--medium);
}

a {
  text-decoration: none;
}

body {
  display: grid;
  grid-template-columns: var(--side-margin) repeat(8, 1fr) var(--side-margin);
  overflow-x: clip;
  background-color: var(--color-black);

  header {
    perspective: 1000px;
    z-index: 9999;
    grid-column: 1/11;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;

    > div {
      display: flex;
      gap: 2rem;
      z-index: 10001;
      
      position: fixed;
      top: 3vh;
      right: var(--side-margin);

      > a {
        z-index: 10001;
        min-width: 4rem;

        display: flex;
        justify-content: center;
        align-items: center;

        background-color: var(--color-detail-main);
        filter: url("#gooey");
        border: none;
        font-size: var(--button-font-size);
        font-weight: 600;
        /* text-transform: uppercase; */
        color: var(--color-white);
        transition: color var(--medium);      

        padding: clamp(0.8rem, 1vw, 1.2rem) 2.2rem;
        height: clamp(1rem, 3.5vw, 3rem);
        border-radius: 0.8em;

        transform-style: preserve-3d;
        transition: transform var(--fast);
        transform-origin: center;

        overflow: visible;

        &:hover {
          transform: translateZ(40px) translateY(-5%) rotate(5deg);
          filter: drop-shadow(.2rem .2rem .2rem var(--color-detail1));
        }

        .bubbles {
          position: absolute;
          inset: 0;
          overflow: visible;
          z-index: 1;
          /* filter: url("#gooey"); */



          .bubble {
            display: block;
            width: 1rem;
            height: 1rem;
            background-color: var(--color-detail-main);
            border-radius: 50%;
            position: absolute;
            will-change: transform, opacity;

            
          }

          /* .bubble:nth-child(1) { left: 5%; animation: move 6s infinite; }
          .bubble:nth-child(2) { left: 15%; animation: move 7s infinite; }
          .bubble:nth-child(3) { left: 25%; animation: move 5.5s infinite; }
          .bubble:nth-child(4) { left: 35%; animation: move 6.5s infinite; }
          .bubble:nth-child(5) { left: 45%; animation: move 6s infinite; }
          .bubble:nth-child(6) { left: 55%; animation: move 7s infinite; }
          .bubble:nth-child(7) { left: 65%; animation: move 5.5s infinite; }
          .bubble:nth-child(8) { left: 75%; animation: move 6.5s infinite; }
          .bubble:nth-child(9) { left: 85%; animation: move 6s infinite; }
          .bubble:nth-child(10){ left: 95%; animation: move 7s infinite; }
        } */
        }
      }

      form {
        z-index: 10001;

        display: flex;
        justify-content: center;
        align-items: center;
        background-color: var(--color-detail-main);
        filter: url("#gooey");
        border: none;
        padding: clamp(0.8rem, 1vw, 1.2rem) 2.2rem clamp(0.8rem, 1vw, 1.2rem) 2rem;
        border-radius: 0.8em;
        transform-style: preserve-3d;
        transition: transform var(--fast);
        transform-origin: center;
        height: clamp(1rem, 3.5vw, 3rem);

        overflow: visible;

        &:hover {
          transform: translateZ(40px) translateY(-5%) rotate(5deg);
          filter: drop-shadow(.2rem .2rem .2rem var(--color-detail1));
        }

        input {
          display: block;
          width: 100%;
          height: 100%;
          position: absolute;
          cursor: none;
          z-index: 2;
          opacity: 0;
        }

        label {
          font-size: var(--button-font-size);
          font-weight: 600;
          /* text-transform: uppercase; */

          color: var(--color-white);
          transition: color var(--medium);
        }
        &:hover label { color: #fff5f5; }

        .plate {
          height: clamp(1.5rem, 3.5vw, 3rem);
          width: min-content;
          display: grid;
          grid-template-columns: 1fr;
          grid-template-rows: 1fr;
          svg { height: clamp(1.5rem, 3.5vw, 3rem); width: clamp(1.5rem, 3.5vw, 3rem); grid-row: 1; grid-column: 1;}

          .line {
            fill: none;
            stroke: var(--color-white);
            stroke-width: 6px;
            stroke-linecap: round;
            stroke-linejoin: round;
            transform-origin: 50%;
            transition: stroke-dasharray 400ms 100ms, stroke-dashoffset 400ms 100ms, transform 400ms 100ms;
          }
          .x { transform: scale(0); transition: transform 400ms; }
          .x .line { stroke-width: 5.5px; }

          .line1 { stroke-dasharray: 21 102; }
          .line2 { stroke-dasharray: 21 92; }
          .line3, .line4 { stroke-dasharray: 21 97; }
          .line5 { stroke-dasharray: 21 92; }
          .line6 { stroke-dasharray: 21 102; }
        }

        input:checked + .plate .x { transform: scale(1); transition: transform 400ms 350ms; }
        input:checked + .plate .line1 { stroke-dasharray: 2 102; stroke-dashoffset: -102px; }
        input:checked + .plate .line2 { stroke-dasharray: 2 92; stroke-dashoffset: -92px; }
        input:checked + .plate .line3,
        input:checked + .plate .line4 { stroke-dasharray: 2 97; stroke-dashoffset: -97px; transition-delay: 20ms; }
        input:checked + .plate .line5 { stroke-dasharray: 2 92; stroke-dashoffset: -90px; transition-delay: 40ms; }
        input:checked + .plate .line6 { stroke-dasharray: 2 102; stroke-dashoffset: -100px; transition-delay: 40ms; }

        /* =========================
          Bubbles
        ========================= */
        .bubbles {
          position: absolute;
          inset: 0;
          overflow: visible;
          z-index: 1;
          /* filter: url("#gooey"); */



          .bubble {
            display: block;
            width: 1rem;
            height: 1rem;
            background-color: var(--color-detail-main);
            border-radius: 50%;
            position: absolute;
            will-change: transform, opacity;

            
          }

          /* .bubble:nth-child(1) { left: 5%; animation: move 6s infinite; }
          .bubble:nth-child(2) { left: 15%; animation: move 7s infinite; }
          .bubble:nth-child(3) { left: 25%; animation: move 5.5s infinite; }
          .bubble:nth-child(4) { left: 35%; animation: move 6.5s infinite; }
          .bubble:nth-child(5) { left: 45%; animation: move 6s infinite; }
          .bubble:nth-child(6) { left: 55%; animation: move 7s infinite; }
          .bubble:nth-child(7) { left: 65%; animation: move 5.5s infinite; }
          .bubble:nth-child(8) { left: 75%; animation: move 6.5s infinite; }
          .bubble:nth-child(9) { left: 85%; animation: move 6s infinite; }
          .bubble:nth-child(10){ left: 95%; animation: move 7s infinite; }
        } */
        }
      }
    }

    

    >div:has(input:checked) + nav {
      border-radius: 0;
      transform: translateX(0);
    }

    input:checked ~ div {
      rotate: 180deg;
    }

    nav {
      position: fixed;
      inset: 0;
      height: 100vh;
      transform: translateX(110vw);
      border-radius: 50%;
      background-color: var(--color-white);
      display: grid;
      grid-template-columns: var(--side-margin) repeat(3, 1fr) var(--side-margin);
      transition: 0.2s;

      ul {
        grid-column: 4;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: end;
        gap: 0.5rem;

        li a {
          font-family: "mfek", sans-serif;
          font-size: var(--button-font-size2);
          text-align: end;
          color: var(--color-black);
          text-decoration: none;
          font-variation-settings:
            "wght" var(--title-weight3),
            "wdth" var(--title-width3),
            "TRMA" var(--title-trma3);
        }
      }
    }
  }

  main {
    grid-column: 2/10;
    display: grid;
    grid-template-columns: subgrid;
    justify-content: center;

    section:nth-of-type(2) {
      grid-column: 1/9;
      padding-top: var(--second-section-start);

      ul {
        width: 100%;
        column-count: 3;
        column-gap: 1vw;

        li {
          display: inline-block;
          position: relative;
          width: 100%;
          margin-bottom: 2vw;

          &:hover { z-index: 999; }

          a {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: .5rem;
            align-items: flex-end;
            width: 100%;
            transform-style: preserve-3d;
            transition: transform var(--fast);
            position: relative;
            pointer-events: auto;

            * { pointer-events: none; }

            div {
              grid-column: 1/9;
              grid-row: 1/4;
              display: flex;
              justify-content: flex-end;
              align-items: flex-start;
              gap: .5rem;
              position: relative;
              height: 100%;
              width: 90%;
              transform: translateZ(80px) translateY(.8rem);

              p {
                font-size: clamp(.2rem, .8vw, 1rem);
                font-weight: 600;
                color: var(--color-white);
                background-color: var(--color-black);
                padding: .6vw 1.2vw;
                border-radius: 10em;
                transition: var(--medium);
              }
            }

            &::after {
              content: "";
              position: absolute;
              inset: 0;
              background-image: linear-gradient(to top, rgb(24 24 24 / .3), transparent);
              pointer-events: none;
              transition: var(--medium);
            }

            img {
              grid-row: 1/9;
              grid-column: 1/9;
              width: 100%;
              transition: var(--medium);
              transform-origin: center;
              border-radius: .5vw;

              &:nth-of-type(2) { transform: translateZ(40px); }
              &:nth-of-type(4) { transform: translateZ(60px) scale(1); }
              &:nth-of-type(3) {
                justify-self: center;
                align-self: start;
                opacity: 0;
                filter: drop-shadow(.2rem .2rem .2rem rgba(0,0,0,.4));
                transform: translateZ(20px) translateX(2%) scale(1.2);
                position: absolute;
              }
            }

            &:hover {
              div { transform: translateZ(80px); }
              div p { transform: translateX(20%) translateY(-80%) translateZ(80px); }
              &::after { scale: 1.1; }

              img:nth-of-type(1) { transform: scale(1.1); }
              img:nth-of-type(2) {
                transform: translateZ(40px) translateY(-25%) translateX(5%) scale(1.7) rotate(5deg);
                filter: drop-shadow(1rem .5rem .5rem rgba(0,0,0,.5));
              }
              img:nth-of-type(4) {
                transform: translateY(-10%) translateX(-5%) translateZ(60px) scale(1.3) rotate(-6deg);
                filter: drop-shadow(.5rem .8rem .5rem rgba(0,0,0,.6));
              }
              img:nth-of-type(3) {
                opacity: 1;
                transform: translateZ(20px) translateX(2%) scale(1.15);
                filter: drop-shadow(.5rem .8rem .5rem rgba(0,0,0,.6));
              }
            }
          }
        }
      }
    }
  }
}

/* =========================
   Title Animation
========================= */
section:nth-of-type(1) {
  grid-column: 1/9;
  position: relative;
  h1 {
    position: fixed;
    transition: transform .5s ease, color .5s ease;

    animation: h1scrolling linear forwards;
    animation-timeline: scroll();
    scroll-behavior: smooth;

    justify-self: right;
    

    span {
      font-variation-settings:
        "wght" var(--title-weight),
        "wdth" var(--title-width),
        "TRMA" var(--title-trma);
      text-transform: uppercase;
      font-size: var(--title-size);
      transition: color .5s ease;

      &.one, &.two, &.three, &.four, &.five, &.six {
        animation: changetrma 4s ease-in-out infinite;
        animation-delay: calc(.6s * var(--index));
      }
    }
  }
  subtitle {
    position: fixed;
    font-size: var(--subtitle-size);
    color: var(--color-white);
    z-index: 1000;
    font-variation-settings: "wght" 500, "wdth" 100, "TRMA" 0;
    transform: translateY(31vw);
    right: var(--side-margin);
    animation: changeright ease-in-out forwards;
    animation-timeline: scroll();
    scroll-behavior: smooth;

    justify-self: end;
  }
}

header:has(input:checked) ~ main h1 {
  z-index: 10000;

  animation: h1scrolling2 .4s ease-in-out both;
  
}
header:has(input:checked) ~ main h1 span {
  color: var(--color-detail-main);
}

@keyframes changetrma {
  0%, 100% { font-variation-settings: "wght" 900, "wdth" 93, "TRMA" 0; }
  50%      { font-variation-settings: "wght" 1000,  "wdth" 100, "TRMA" 0; }
}

/* =========================
   Cursor
========================= */
.cursor-dot,
.cursor-ring {
  position: fixed;
  pointer-events: none;
  opacity: 0;
  z-index: 9999;
  will-change: transform, opacity;
}

/* Dot should move instantly (no transform transition) */
.cursor-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--color-detail-main);
  transition: background .25s ease, opacity .25s ease;
}

/* Ring can animate its position + scaling */
.cursor-ring {
  width: 30px;
  height: 30px;
  border: 2px solid var(--color-detail-main);
  border-radius: 50%;
  transition: transform .25s ease, border-color .25s ease, opacity .25s ease;
}

.cursor-visible { opacity: 1; }

header:has(input:checked) ~ .cursor-dot { background: var(--color-detail-main); }
header:has(input:checked) ~ .cursor-ring { border-color: var(--color-detail-main); }

.cursor-hover {
  .cursor-ring { transform: scale(1.5); border-color: var(--color-white); }
  .cursor-dot { transform: scale(1.5); background: var(--color-white); }
}

/* =========================
   Background Effects
========================= */
#dotCanvas,
div.gradient {
  position: fixed;
  inset: 0;
  width: 100vw; height: 100vh;
  z-index: -1;
  pointer-events: none;
}
div.gradient {
  background: linear-gradient(0deg, var(--color-detail-main-opacity) 0%, var(--color-black-opacity-0) 40%);
}

#container3D {
  position: fixed;
  inset: 0;
  width: 100vw; 
  height: 100vh;
  z-index: -2;
  pointer-events: none;
}


/* =========================
   Animations
========================= */
@keyframes move {
  0%   { transform: translateY(0) scale(.6); opacity: 0; }
  10%  { opacity: .9; }
  50%  { transform: translate(-10px, -100px) scale(1.1); opacity: .8; }
   80% { transform: translate(15px, -180px) scale(.9); opacity: .6; }
  99%  { transform: translateY(-200px); opacity: 1; }
  100% { transform: translateY(0) scale(.6); opacity: 0; }
}

@keyframes h1scrolling {
  0%   { transform: translateX(0) translateY(10vh) rotate(0) scale(1); }
  30% { transform: translateX(-45vw) translateY(20vh) rotate(90deg) scale(.3); }
  100% { transform: translateX(-45vw) translateY(20vh) rotate(90deg) scale(.3); }
}

@keyframes h1scrolling2 {
  0% { transform: translateX(0) rotate(0) scale(1); }
  100% { transform: translateX(-45vw) translateY(20vh) rotate(90deg) scale(.3); }
}

@keyframes changeright {
  0%   { 
    transform: translateY(31vw);
    opacity: 1;
  }
  8% { 
    transform: translateY(39vw); 
    opacity: 0;
  }
  100% { 
    opacity: 0;
  }
}

@media screen and (min-width: 1000px) {
  body {
    main {
      section:nth-of-type(2) {
        ul { column-count: 4; }
      }
    }
  }
}